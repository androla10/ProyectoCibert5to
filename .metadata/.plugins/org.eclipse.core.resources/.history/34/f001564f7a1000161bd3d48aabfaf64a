package com.cibertec.Actions;

import com.cibertec.Model.UsuarioModel;
import com.cibertec.constantes.Constantes;
import com.cibertec.interceptor.UsuarioHabilitado;
import com.opensymphony.xwork2.ActionSupport;

public class ValidadorAction extends ActionSupport implements UsuarioHabilitado {
	private UsuarioModel usuario;

	public UsuarioModel getUsuario() {
		return usuario;
	}

	public String validarPermiso(int valor) {
		if (usuario != null) {
			// Administrador
			if (usuario.getIdTipo() == 2) {
				if (valor == Constantes.formularioAdministrador) {
					return SUCCESS;
				} else if (valor == Constantes.formularioPrincipal) {
					return SUCCESS;
				} else if (valor == Constantes.formularioRegistroUsuario) {
					return SUCCESS;
				}
			} else {

				if (valor == Constantes.formularioPrincipal) {
					return SUCCESS;
				}
			}
		} else {
			return LOGIN;
		}
	}

	@Override
	public void setUsuario(UsuarioModel usuario) {
		this.usuario = usuario;
	};
}
