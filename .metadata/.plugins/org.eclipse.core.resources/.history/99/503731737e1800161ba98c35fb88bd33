<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN" "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<package name="Incidencia" namespace="/Incidencia" extends="struts-default">
		<result-types>
			<result-type name="tiles"
				class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>

		<interceptors>
			<interceptor name="iterceptorAtuenticacion"
				class="com.cibertec.interceptor.Autenticacion" />
			<interceptor-stack name="secureStack">
				<interceptor-ref name="iterceptorAtuenticacion" />
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>
		</interceptors>
		<default-interceptor-ref name="secureStack" />

		<global-results>
			<result name="login" type="redirect">/Login/FormularioLogin.action
			</result>
		</global-results>


		<action name="RegistrarIncidencia">
			<result type="tiles">RegistrarIncidencia</result>
		</action>

		<action name="ListarIncidencia">
			<result type="tiles">ListarIncidencia</result>
		</action>

		<action name="RegIncidencia" class="com.cibertec.Actions.IncidenciaAction"
			method="registrar">
			<!-- <interceptor-ref name="fileUpload"> -->
			<!-- <param name="maximumSize">2097152</param> -->
			<!-- <param name="allowedTypes"> -->
			<!-- image/png,image/jpeg,image/pjpeg -->
			<!-- </param> -->
			<!-- </interceptor-ref> -->
			<!-- <interceptor-ref name="defaultStack"></interceptor-ref> -->
			<!-- <result name="success" type="redirect">/RegistrarIncidencia.action -->
			<!-- </result> -->
			<!-- <result name="ERROR">/Login/Login.jsp</result> -->
			<!-- <result name="input">/Login/Login.jsp</result> -->

			<param name="filesPath">uploads</param>
			<result name="success" type="redirect">/Incidencia/RegistrarIncidencia.action
			</result>
			<result name="input">../Login/Login.jsp</result>

			<interceptor-ref name="defaultStack">
				<param name="fileUpload.maximumSize">2097152</param>
				<param name="fileUpload.allowedTypes">image/jpeg,image/png,image/jpg</param>
			</interceptor-ref>
		</action>

	</package>
</struts>